# NPFL API

## An API with serverless functions that display Nigerian Professional Premier League Clubs basic information.

Story: When teams travel to another state for a football match, you might need information on your opposition team.
Idea: A service that does tactical analysis of a team.

1. Create Your Cloud Infrastructure:
- Use an SDK to set up your cloud infrastructure.
- You will need a NoSQL database, cloud storage, and serverless functions.
- Depending on the cloud provider (AWS, Azure, Google Cloud), additional setup steps may be required.

2. Prepare Your Data:
- Find sports data or create it and store it in your cloud NoSQL db.
- Store club logo of each football club in cloud storage.

3. Create Serverless Functions:
- GetClubs: Returns a JSON list of all movies in your database. Ensure the response includes a URL for the club logo.
- GetPreviousChampions: Returns a list of clubs that have previously won the championship
- EXTRA CREDIT - GetClubFunFact: Returns a fun fact about a club generated by AI for a specified football club.

__Example Data Model:__
Club data model could look like:

```json
{
    "club":"Akwa United",
    "full_name":"Akwa United Football Club",
    "short_name":"AKW",
    "nickname":"Promise Keepers",
    "stadium":"Godwill Akpabio International Stadium, Uyo",
    "titles_won":1,
    "logo":"url-to-image-in-cloud-storage"
}

{
    "club":"Enyimba",
    "full_name":"Enyimba Football Club",
    "short_name":"ENY",
    "nickname":"People's Elephants",
    "stadium":"Enyimba International Stadium, Aba",
    "titles_won":9,
    "logo":"url-to-image-in-cloud-storage"
}

{
    "club":"Enugu Rangers",
    "full_name":"Rangers International Football Club",
    "short_name":"RAN",
    "nickname":"Flying Antelopes",
    "stadium":"	Nnamdi Azikiwe Stadium, Enugu",
    "titles_won":8,
    "logo":"url-to-image-in-cloud-storage"
}
```
__Endpoints:__
_yourapi.com/clubs_
```json
[
    {
        "club": "Akwa United",
        "nickname": "Promise Keepers",
        "stadium": "Godswill Akpabio International Stadium",
        "titles_won":1,
        "logo": "https://example.com/inception.jpg"
     },
    {
        "club": "Enyimba",
        "nickname": "People's Elephant",
        "stadium": "Enyimba International Stadium, Aba",
        "titles_won":9,
        "logo": "https://example.com/inception.jpg"
    },
    {
        "club": "Enugu Rangers",
        "nickname": "Flying Antelopes",
        "stadium": "Nnamdi Azikiwe Stadium",
        "titles_won":8,
        "logo": "https://example.com/inception.jpg"
    }
    {
        "club": "Remo Stars",
        "nickname": "Sky Blue Stars",
        "stadium": "Remo Stars Stadium, Sagamu",
        "titles_won":0,
        "logo": "https://example.com/inception.jpg"
    }
]
```

_yourapi.com/clubs/pastchampions_
```json
[
    {
        "club": "Akwa United",
        "nickname": "Promise Keepers",
        "stadium": "Godswill Akpabio International Stadium",
        "titles_won":1,
        "logo": "https://example.com/inception.jpg"
     },
    {
        "club": "Enyimba",
        "nickname": "People's Elephant",
        "stadium": "Enyimba International Stadium, Aba",
        "titles_won":9,
        "logo": "https://example.com/inception.jpg"
    },
    {
        "club": "Enugu Rangers",
        "nickname": "Flying Antelopes",
        "stadium": "Nnamdi Azikiwe Stadium",
        "titles_won":8,
        "logo": "https://example.com/inception.jpg"
    }
]
```

_yourapi.com/getclubfunfact/remostars_
```json
{
    {
        "club": "Remo Stars",
        "nickname": "Sky Blue Stars",
        "stadium": "Remo Stars Stadium, Sagamu",
        "titles_won":0,
        "logo": "https://example.com/inception.jpg",
        "generatedFunfact": "Remo Stars are currently top of the Nigerian Premier League Standings and are set to become champions for the first ever time"
    }
}
```

---
__Details:__
- For azure sdk authentication, i am using a service principal and including them in my .env file.


---
# NPFL Clubs API

## Overview
This API provides information about NPFL clubs using Azure Cosmos DB and FastAPI.

## Endpoints
- `GET /clubs`: Get all clubs.
- `GET /clubs/by-titles?min_titles=5`: Get clubs with at least 5 titles.
- `GET /clubs/fun-fact?club_name=Enyimba`: Get a fun fact about a club.

## Setup
1. Install dependencies: `pip install -r requirements.txt`.
2. Run the app: `uvicorn app.main:app --reload`.